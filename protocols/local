#!/bin/bash

function protocol_load_settings {
	REPO_PATH=$1;
}

function protocol_repo_exists {
	local path=`protocol_canonicalize "$*"`
	[ -d "$path" ];
}

function protocol_canonicalize {
	readlink -m $REPO_PATH/$*
}

function protocol_init_repo {
	git init --bare `protocol_canonicalize "$*"`
}

function protocol_push_repo {
	git push --mirror `protocol_canonicalize "$*"`
}
